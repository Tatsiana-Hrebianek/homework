name: Deploy to Alwaysdata

on:
    push:
        branches:
            - main

jobs:
    deploy:
        runs-on: ubuntu-latest
        
        steps:
            - name: Checkout репозитория
              uses: actions/checkout@v3

            - name: Деплой на сервер
              uses: appleboy/scp-action@v0.1.7
              with:
                host: ${{ secrets.SSH_HOST }}
                username: ${{ secrets.SSH_USER }}
                password: ${{ secrets.SSH_KEY }}
                port: 22
                protocol: sftp
                source: Block2/abstract_classes_interfaces/    
                target: "/home/${{ secrets.SSH_USER }}/www/test"                            
                timeout: 60s
                # dry-run: true
                

